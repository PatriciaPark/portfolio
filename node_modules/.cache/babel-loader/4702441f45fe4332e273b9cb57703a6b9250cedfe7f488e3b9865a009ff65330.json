{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function BrickBreaker(){const canvasRef=useRef(null);const[canvasSize,setCanvasSize]=useState({width:400,height:300});// Í≤åÏûÑ ÏÑ§Ï†ïÍ∞í (Î∞òÏùëÌòï)\nconst paddleWidth=canvasSize.width*0.25;const paddleHeight=canvasSize.height*0.03;const ballRadius=canvasSize.width*0.025;// Î≤ΩÎèå ÏÑ§Ï†ïÍ∞í\nconst brickRowCount=3;const brickColumnCount=6;const brickPadding=10;const brickHeight=20;// Ï†êÏàò Î∞è Í≤åÏûÑ ÏÉÅÌÉú\nconst[score,setScore]=useState(0);const[gameOver,setGameOver]=useState(false);const[gameClear,setGameClear]=useState(false);const scoreRef=useRef(0);// Í≥µ ÏÉÅÌÉú (x, y, ÏÜçÎèÑ)\nconst xRef=useRef(canvasSize.width/2);const yRef=useRef(canvasSize.height-60);const dxRef=useRef(2);const dyRef=useRef(-2);// Ìå®Îì§ ÏÉÅÌÉú\nconst paddleXRef=useRef((canvasSize.width-paddleWidth)/2);const keys=useRef({left:false,right:false});const animationRef=useRef(null);const bricks=useRef([]);// Î≤ΩÎèå Ï¥àÍ∏∞Ìôî\nuseEffect(()=>{const brickWidth=(canvasSize.width-(brickColumnCount+1)*brickPadding)/brickColumnCount;const offsetLeft=(canvasSize.width-(brickColumnCount*brickWidth+(brickColumnCount-1)*brickPadding))/2;const newBricks=[];for(let c=0;c<brickColumnCount;c++){newBricks[c]=[];for(let r=0;r<brickRowCount;r++){const brickX=offsetLeft+c*(brickWidth+brickPadding);const brickY=30+r*(brickHeight+brickPadding);newBricks[c][r]={x:brickX,y:brickY,status:1};}}bricks.current=newBricks;},[canvasSize]);// Í≥µ Í∑∏Î¶¨Í∏∞ - Í∏∞Î≥∏ Ïä§ÌÉÄÏùº\n// const drawBall = (ctx) => {\n//     ctx.beginPath();\n//     ctx.arc(xRef.current, yRef.current, ballRadius, 0, Math.PI * 2);\n//     ctx.fillStyle = \"#ff6347\";\n//     ctx.fill();\n//     ctx.closePath();\n// };\n// Í≥µ Í∑∏Î¶¨Í∏∞ - Ïù¥Î™®ÏßÄ Ïä§ÌÉÄÏùº\nconst drawBall=ctx=>{ctx.font=`${ballRadius*2}px Arial`;ctx.textAlign=\"center\";ctx.textBaseline=\"middle\";ctx.fillText(\"üê£\",xRef.current,yRef.current);};// Ìå®Îì§ Í∑∏Î¶¨Í∏∞ - Í∏∞Î≥∏\nconst drawPaddle=ctx=>{ctx.beginPath();ctx.rect(paddleXRef.current,canvasRef.current.height-paddleHeight,paddleWidth,paddleHeight);ctx.fillStyle=\"#fbbf24\";// amber\nctx.fill();ctx.closePath();};// Ìå®Îì§ Í∑∏Î¶¨Í∏∞ - Î¨¥ÏßÄÍ∞ú\n// const drawPaddle = (ctx) => {\n//     const paddleX = paddleXRef.current;\n//     const gradient = ctx.createLinearGradient(paddleX, canvasRef.current.height - paddleHeight, paddleX + paddleWidth, canvasRef.current.height);\n//     gradient.addColorStop(0, \"#ff0000\");   // Îπ®Í∞ï\n//     gradient.addColorStop(0.17, \"#ffa500\"); // Ï£ºÌô©\n//     gradient.addColorStop(0.34, \"#ffff00\"); // ÎÖ∏Îûë\n//     gradient.addColorStop(0.51, \"#00ff00\"); // Ï¥àÎ°ù\n//     gradient.addColorStop(0.68, \"#0000ff\"); // ÌååÎûë\n//     gradient.addColorStop(0.85, \"#4b0082\"); // ÎÇ®ÏÉâ\n//     gradient.addColorStop(1, \"#ee82ee\");   // Î≥¥Îùº\n//     ctx.beginPath();\n//     ctx.rect(paddleX, canvasRef.current.height - paddleHeight, paddleWidth, paddleHeight);\n//     ctx.fillStyle = gradient;\n//     ctx.fill();\n//     ctx.closePath();\n// };\n// Î≤ΩÎèå Í∑∏Î¶¨Í∏∞ Î∞è ÎÇ®ÏùÄ Î≤ΩÎèå Ïàò Ï≤¥ÌÅ¨\nconst drawBricks=ctx=>{let remainingBricks=0;bricks.current.forEach(column=>{column.forEach(b=>{if(b.status===1){remainingBricks++;ctx.beginPath();ctx.fillStyle=\"#b91c1c\";ctx.fillRect(b.x,b.y,(canvasSize.width-(brickColumnCount+1)*brickPadding)/brickColumnCount,brickHeight);ctx.closePath();// Í∏∞Î≥∏ Î≤ΩÎèå Ïä§ÌÉÄÏùº(ÏÉâÏÉÅ)\n//   ctx.beginPath();\n//   ctx.rect(brickX, brickY, brickWidth, brickHeight);\n//   ctx.fillStyle = \"#fbbf24\";\n//   ctx.fill();\n//   ctx.closePath();\n// üß± Ïù¥Î™®ÏßÄ Ïä§ÌÉÄÏùº\n//   ctx.font = \"24px Arial\";\n//   ctx.textAlign = \"center\";\n//   ctx.textBaseline = \"middle\";\n//   ctx.fillText(\"üß±\", brickX + brickWidth / 2, brickY + brickHeight / 2);\n// Íµ¨Î©çÎÇú Î≤ΩÎèå\nfor(let i=0;i<3;i++){ctx.beginPath();ctx.arc(b.x+(canvasSize.width-(brickColumnCount+1)*brickPadding)/brickColumnCount*(0.2+i*0.3),b.y+brickHeight*0.5,brickHeight*0.2,0,Math.PI*2);ctx.fillStyle=\"#1f1f1f\";ctx.fill();ctx.closePath();}}});});// Î™®Îì† Î≤ΩÎèå Ï†úÍ±∞ Ïãú ÌÅ¥Î¶¨Ïñ¥ Ï≤òÎ¶¨\nif(remainingBricks===0&&!gameClear){setGameClear(true);}};// Í≤åÏûÑ ÌôîÎ©¥ Ïïà Î©îÏãúÏßÄ Î∞ïÏä§\nconst drawEndMessage=(ctx,message)=>{const centerX=canvasRef.current.width/2;const centerY=canvasRef.current.height/2;ctx.font=\"16px 'Press Start 2P'\";ctx.fillStyle=\"#ffffff\";ctx.textAlign=\"center\";ctx.fillText(message,centerX,centerY-20);// Î≤ÑÌäº ÌÅ¥Î¶≠ Î©îÏãúÏßÄ\nctx.font=\"13px 'Press Start 2P'\";ctx.fillStyle=\"#818cf8\";ctx.fillText(\"Tap or Press R to Restart\",centerX,centerY+20);};// Í≥µÍ≥º Î≤ΩÎèå Ï∂©Îèå Í∞êÏßÄ\nconst collisionDetection=()=>{const brickWidth=(canvasSize.width-(brickColumnCount+1)*brickPadding)/brickColumnCount;bricks.current.forEach(column=>{column.forEach(b=>{if(b.status===1){if(xRef.current>b.x&&xRef.current<b.x+brickWidth&&yRef.current>b.y&&yRef.current<b.y+brickHeight){// Í≥µ ÏÜçÎèÑÍ∞Ä Îß§ Ï∂©ÎèåÎßàÎã§ 5%Ïî© Îπ®ÎùºÏßê + ÏµúÎåÄ ÏÜçÎèÑ Ï†úÌïú\nconst speedFactor=1.05;const maxSpeed=10;dxRef.current=Math.max(-maxSpeed,Math.min(maxSpeed,dxRef.current*speedFactor));dyRef.current=Math.max(-maxSpeed,Math.min(maxSpeed,dyRef.current*-speedFactor));b.status=0;scoreRef.current++;setScore(scoreRef.current);}}});});};// ÌÇ§Î≥¥Îìú Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨\nconst handleRestart=()=>{// GA Î¶¨Ïä§ÌÉÄÌä∏ Ï∂îÏ†Å\nif(window.gtag){window.gtag('event','BB_game_restart',{event_category:'Game',event_label:'BrickBreaker'});}window.location.reload();};const keyDownHandler=e=>{if(e.key===\"Right\"||e.key===\"ArrowRight\")keys.current.right=true;else if(e.key===\"Left\"||e.key===\"ArrowLeft\")keys.current.left=true;else if(e.key===\"r\"||e.key===\"R\")handleRestart();};const keyUpHandler=e=>{if(e.key===\"Right\"||e.key===\"ArrowRight\")keys.current.right=false;else if(e.key===\"Left\"||e.key===\"ArrowLeft\")keys.current.left=false;};useEffect(()=>{const canvas=canvasRef.current;const ctx=canvas.getContext(\"2d\");document.addEventListener(\"keydown\",keyDownHandler);document.addEventListener(\"keyup\",keyUpHandler);const draw=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);drawBricks(ctx);drawBall(ctx);drawPaddle(ctx);collisionDetection();// Ï¢ÖÎ£å Î©îÏãúÏßÄ\nif(gameOver){drawEndMessage(ctx,\"üò¢ GAME OVER\");cancelAnimationFrame(animationRef.current);return;}if(gameClear){// GA Í≤åÏûÑ ÌÅ¥Î¶¨Ïñ¥ Ï∂îÏ†Å\nif(window.gtag){window.gtag('event','BB_game_clear',{event_category:'Game',event_label:'BrickBreaker'});}// ÌÅ¥Î¶¨Ïñ¥ Î©îÏãúÏßÄ\ndrawEndMessage(ctx,\"üéâ CLEAR!!\");cancelAnimationFrame(animationRef.current);return;}// Î≤Ω Ï∂©Îèå Ï≤òÎ¶¨\nconst nextX=xRef.current+dxRef.current;const nextY=yRef.current+dyRef.current;if(nextX+ballRadius>canvas.width||nextX-ballRadius<0){dxRef.current=-dxRef.current;}if(nextY-ballRadius<0){dyRef.current=-dyRef.current;}// Î∞îÎã• Ï∂©Îèå + Ìå®Îì§ Î∞òÏÇ¨ Ï≤òÎ¶¨\nif(nextY+ballRadius>canvas.height){if(xRef.current>paddleXRef.current&&xRef.current<paddleXRef.current+paddleWidth){dyRef.current=-dyRef.current;}else{setGameOver(true);return;}}// ÌÇ§ ÏûÖÎ†•Ïóê Îî∞Î•∏ Ìå®Îì§ Ïù¥Îèô\nif(keys.current.right&&paddleXRef.current<canvas.width-paddleWidth){paddleXRef.current+=5;}else if(keys.current.left&&paddleXRef.current>0){paddleXRef.current-=5;}// Í≥µ Ïù¥Îèô\nxRef.current+=dxRef.current;yRef.current+=dyRef.current;animationRef.current=requestAnimationFrame(draw);};draw();return()=>{document.removeEventListener(\"keydown\",keyDownHandler);document.removeEventListener(\"keyup\",keyUpHandler);cancelAnimationFrame(animationRef.current);};},[gameOver,gameClear,canvasSize,paddleWidth]);// Î∞òÏùëÌòï ÌôîÎ©¥ Ï∂îÍ∞Ä\nuseEffect(()=>{const updateSize=()=>{const screenWidth=window.innerWidth;const width=Math.min(screenWidth-10,480);const height=Math.round(width*0.75);setCanvasSize({width,height});};updateSize();// Ï≤òÏùå Ïã§Ìñâ\nwindow.addEventListener(\"resize\",updateSize);return()=>window.removeEventListener(\"resize\",updateSize);},[]);// Î™®Î∞îÏùº ÌôîÎ©¥ ÌÑ∞Ïπò\nuseEffect(()=>{const canvas=canvasRef.current;const handleTouchMove=e=>{const touchX=e.touches[0].clientX-canvas.getBoundingClientRect().left;paddleXRef.current=Math.min(Math.max(touchX-paddleWidth/2,0),canvas.width-paddleWidth);};canvas.addEventListener(\"touchmove\",handleTouchMove);return()=>canvas.removeEventListener(\"touchmove\",handleTouchMove);},[paddleWidth]);// ÌÑ∞Ïπò or ÌÅ¥Î¶≠ Ïãú Ìï¥Îãπ ÏúÑÏπò ÎàÑÎ•¥Î©¥ restart\nuseEffect(()=>{const canvas=canvasRef.current;const handleClick=e=>{if(!gameOver&&!gameClear)return;const rect=canvas.getBoundingClientRect();const clickX=e.clientX-rect.left;const clickY=e.clientY-rect.top;const centerX=canvas.width/2;const centerY=canvas.height/2+20;const textWidth=150;const textHeight=30;if(clickX>centerX-textWidth/2&&clickX<centerX+textWidth/2&&clickY>centerY-textHeight/2&&clickY<centerY+textHeight/2){window.location.reload();}};canvas.addEventListener(\"click\",handleClick);canvas.addEventListener(\"touchstart\",handleClick);return()=>{canvas.removeEventListener(\"click\",handleClick);canvas.removeEventListener(\"touchstart\",handleClick);};},[gameOver,gameClear]);return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"font-press font-bold mb-4 text-rose-400\",children:\"\\uD83E\\uDDF1Brick Breaker\\uD83E\\uDDF1\"}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,width:canvasSize.width,height:canvasSize.height,className:\"bg-black rounded shadow-md w-full max-w-none touch-none\",style:{width:'100%',height:'auto',display:'block'}})]});}","map":{"version":3,"names":["useEffect","useRef","useState","jsx","_jsx","jsxs","_jsxs","BrickBreaker","canvasRef","canvasSize","setCanvasSize","width","height","paddleWidth","paddleHeight","ballRadius","brickRowCount","brickColumnCount","brickPadding","brickHeight","score","setScore","gameOver","setGameOver","gameClear","setGameClear","scoreRef","xRef","yRef","dxRef","dyRef","paddleXRef","keys","left","right","animationRef","bricks","brickWidth","offsetLeft","newBricks","c","r","brickX","brickY","x","y","status","current","drawBall","ctx","font","textAlign","textBaseline","fillText","drawPaddle","beginPath","rect","fillStyle","fill","closePath","drawBricks","remainingBricks","forEach","column","b","fillRect","i","arc","Math","PI","drawEndMessage","message","centerX","centerY","collisionDetection","speedFactor","maxSpeed","max","min","handleRestart","window","gtag","event_category","event_label","location","reload","keyDownHandler","e","key","keyUpHandler","canvas","getContext","document","addEventListener","draw","clearRect","cancelAnimationFrame","nextX","nextY","requestAnimationFrame","removeEventListener","updateSize","screenWidth","innerWidth","round","handleTouchMove","touchX","touches","clientX","getBoundingClientRect","handleClick","clickX","clickY","clientY","top","textWidth","textHeight","className","children","ref","style","display"],"sources":["C:/workspace/portfolio/src/games/BrickBreaker.js"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\n\r\nexport default function BrickBreaker() {\r\n    const canvasRef = useRef(null);\r\n    const [canvasSize, setCanvasSize] = useState({ width: 400, height: 300 });\r\n\r\n    // Í≤åÏûÑ ÏÑ§Ï†ïÍ∞í (Î∞òÏùëÌòï)\r\n    const paddleWidth = canvasSize.width * 0.25;\r\n    const paddleHeight = canvasSize.height * 0.03;\r\n    const ballRadius = canvasSize.width * 0.025;\r\n\r\n    // Î≤ΩÎèå ÏÑ§Ï†ïÍ∞í\r\n    const brickRowCount = 3;\r\n    const brickColumnCount = 6;\r\n    const brickPadding = 10;\r\n    const brickHeight = 20;\r\n\r\n    // Ï†êÏàò Î∞è Í≤åÏûÑ ÏÉÅÌÉú\r\n    const [score, setScore] = useState(0);\r\n    const [gameOver, setGameOver] = useState(false);\r\n    const [gameClear, setGameClear] = useState(false);\r\n    const scoreRef = useRef(0);\r\n\r\n    // Í≥µ ÏÉÅÌÉú (x, y, ÏÜçÎèÑ)\r\n    const xRef = useRef(canvasSize.width / 2);\r\n    const yRef = useRef(canvasSize.height - 60);\r\n    const dxRef = useRef(2);\r\n    const dyRef = useRef(-2);\r\n\r\n    // Ìå®Îì§ ÏÉÅÌÉú\r\n    const paddleXRef = useRef((canvasSize.width - paddleWidth) / 2);\r\n    const keys = useRef({ left: false, right: false });\r\n    const animationRef = useRef(null);\r\n\r\n    const bricks = useRef([]);\r\n\r\n    // Î≤ΩÎèå Ï¥àÍ∏∞Ìôî\r\n    useEffect(() => {\r\n        const brickWidth = (canvasSize.width - (brickColumnCount + 1) * brickPadding) / brickColumnCount;\r\n        const offsetLeft = (canvasSize.width - (brickColumnCount * brickWidth + (brickColumnCount - 1) * brickPadding)) / 2;\r\n\r\n        const newBricks = [];\r\n        for (let c = 0; c < brickColumnCount; c++) {\r\n            newBricks[c] = [];\r\n            for (let r = 0; r < brickRowCount; r++) {\r\n                const brickX = offsetLeft + c * (brickWidth + brickPadding);\r\n                const brickY = 30 + r * (brickHeight + brickPadding);\r\n                newBricks[c][r] = { x: brickX, y: brickY, status: 1 };\r\n            }\r\n        }\r\n        bricks.current = newBricks;\r\n    }, [canvasSize]);\r\n\r\n    // Í≥µ Í∑∏Î¶¨Í∏∞ - Í∏∞Î≥∏ Ïä§ÌÉÄÏùº\r\n    // const drawBall = (ctx) => {\r\n    //     ctx.beginPath();\r\n    //     ctx.arc(xRef.current, yRef.current, ballRadius, 0, Math.PI * 2);\r\n    //     ctx.fillStyle = \"#ff6347\";\r\n    //     ctx.fill();\r\n    //     ctx.closePath();\r\n    // };\r\n\r\n    // Í≥µ Í∑∏Î¶¨Í∏∞ - Ïù¥Î™®ÏßÄ Ïä§ÌÉÄÏùº\r\n    const drawBall = (ctx) => {\r\n        ctx.font = `${ballRadius * 2}px Arial`;\r\n        ctx.textAlign = \"center\";\r\n        ctx.textBaseline = \"middle\";\r\n        ctx.fillText(\"üê£\", xRef.current, yRef.current);\r\n    };\r\n\r\n    // Ìå®Îì§ Í∑∏Î¶¨Í∏∞ - Í∏∞Î≥∏\r\n    const drawPaddle = (ctx) => {\r\n        ctx.beginPath();\r\n        ctx.rect(\r\n            paddleXRef.current,\r\n            canvasRef.current.height - paddleHeight,\r\n            paddleWidth,\r\n            paddleHeight\r\n        );\r\n        ctx.fillStyle = \"#fbbf24\";   // amber\r\n        ctx.fill();\r\n        ctx.closePath();\r\n    };\r\n\r\n    // Ìå®Îì§ Í∑∏Î¶¨Í∏∞ - Î¨¥ÏßÄÍ∞ú\r\n    // const drawPaddle = (ctx) => {\r\n    //     const paddleX = paddleXRef.current;\r\n\r\n    //     const gradient = ctx.createLinearGradient(paddleX, canvasRef.current.height - paddleHeight, paddleX + paddleWidth, canvasRef.current.height);\r\n    //     gradient.addColorStop(0, \"#ff0000\");   // Îπ®Í∞ï\r\n    //     gradient.addColorStop(0.17, \"#ffa500\"); // Ï£ºÌô©\r\n    //     gradient.addColorStop(0.34, \"#ffff00\"); // ÎÖ∏Îûë\r\n    //     gradient.addColorStop(0.51, \"#00ff00\"); // Ï¥àÎ°ù\r\n    //     gradient.addColorStop(0.68, \"#0000ff\"); // ÌååÎûë\r\n    //     gradient.addColorStop(0.85, \"#4b0082\"); // ÎÇ®ÏÉâ\r\n    //     gradient.addColorStop(1, \"#ee82ee\");   // Î≥¥Îùº\r\n\r\n    //     ctx.beginPath();\r\n    //     ctx.rect(paddleX, canvasRef.current.height - paddleHeight, paddleWidth, paddleHeight);\r\n    //     ctx.fillStyle = gradient;\r\n    //     ctx.fill();\r\n    //     ctx.closePath();\r\n    // };\r\n\r\n\r\n    // Î≤ΩÎèå Í∑∏Î¶¨Í∏∞ Î∞è ÎÇ®ÏùÄ Î≤ΩÎèå Ïàò Ï≤¥ÌÅ¨\r\n    const drawBricks = (ctx) => {\r\n        let remainingBricks = 0;\r\n        bricks.current.forEach((column) => {\r\n            column.forEach((b) => {\r\n                if (b.status === 1) {\r\n                    remainingBricks++;\r\n                    ctx.beginPath();\r\n                    ctx.fillStyle = \"#b91c1c\";\r\n                    ctx.fillRect(b.x, b.y, (canvasSize.width - (brickColumnCount + 1) * brickPadding) / brickColumnCount, brickHeight);\r\n                    ctx.closePath();\r\n\r\n                    // Í∏∞Î≥∏ Î≤ΩÎèå Ïä§ÌÉÄÏùº(ÏÉâÏÉÅ)\r\n                    //   ctx.beginPath();\r\n                    //   ctx.rect(brickX, brickY, brickWidth, brickHeight);\r\n                    //   ctx.fillStyle = \"#fbbf24\";\r\n                    //   ctx.fill();\r\n                    //   ctx.closePath();\r\n\r\n                    // üß± Ïù¥Î™®ÏßÄ Ïä§ÌÉÄÏùº\r\n                    //   ctx.font = \"24px Arial\";\r\n                    //   ctx.textAlign = \"center\";\r\n                    //   ctx.textBaseline = \"middle\";\r\n                    //   ctx.fillText(\"üß±\", brickX + brickWidth / 2, brickY + brickHeight / 2);\r\n\r\n                    // Íµ¨Î©çÎÇú Î≤ΩÎèå\r\n                    for (let i = 0; i < 3; i++) {\r\n                        ctx.beginPath();\r\n                        ctx.arc(\r\n                            b.x + ((canvasSize.width - (brickColumnCount + 1) * brickPadding) / brickColumnCount) * (0.2 + i * 0.3),\r\n                            b.y + brickHeight * 0.5,\r\n                            brickHeight * 0.2,\r\n                            0,\r\n                            Math.PI * 2\r\n                        );\r\n                        ctx.fillStyle = \"#1f1f1f\";\r\n                        ctx.fill();\r\n                        ctx.closePath();\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        // Î™®Îì† Î≤ΩÎèå Ï†úÍ±∞ Ïãú ÌÅ¥Î¶¨Ïñ¥ Ï≤òÎ¶¨\r\n        if (remainingBricks === 0 && !gameClear) {\r\n            setGameClear(true);\r\n        }\r\n    };\r\n\r\n    // Í≤åÏûÑ ÌôîÎ©¥ Ïïà Î©îÏãúÏßÄ Î∞ïÏä§\r\n    const drawEndMessage = (ctx, message) => {\r\n        const centerX = canvasRef.current.width / 2;\r\n        const centerY = canvasRef.current.height / 2;\r\n\r\n        ctx.font = \"16px 'Press Start 2P'\";\r\n        ctx.fillStyle = \"#ffffff\";\r\n        ctx.textAlign = \"center\";\r\n        ctx.fillText(message, centerX, centerY - 20);\r\n\r\n        // Î≤ÑÌäº ÌÅ¥Î¶≠ Î©îÏãúÏßÄ\r\n        ctx.font = \"13px 'Press Start 2P'\";\r\n        ctx.fillStyle = \"#818cf8\";\r\n        ctx.fillText(\"Tap or Press R to Restart\", centerX, centerY + 20);\r\n    };\r\n\r\n    // Í≥µÍ≥º Î≤ΩÎèå Ï∂©Îèå Í∞êÏßÄ\r\n    const collisionDetection = () => {\r\n        const brickWidth = (canvasSize.width - (brickColumnCount + 1) * brickPadding) / brickColumnCount;\r\n        bricks.current.forEach((column) => {\r\n            column.forEach((b) => {\r\n                if (b.status === 1) {\r\n                    if (\r\n                        xRef.current > b.x &&\r\n                        xRef.current < b.x + brickWidth &&\r\n                        yRef.current > b.y &&\r\n                        yRef.current < b.y + brickHeight\r\n                    ) { // Í≥µ ÏÜçÎèÑÍ∞Ä Îß§ Ï∂©ÎèåÎßàÎã§ 5%Ïî© Îπ®ÎùºÏßê + ÏµúÎåÄ ÏÜçÎèÑ Ï†úÌïú\r\n                        const speedFactor = 1.05;\r\n                        const maxSpeed = 10;\r\n\r\n                        dxRef.current = Math.max(-maxSpeed, Math.min(maxSpeed, dxRef.current * speedFactor));\r\n                        dyRef.current = Math.max(-maxSpeed, Math.min(maxSpeed, dyRef.current * -speedFactor));\r\n\r\n                        b.status = 0;\r\n                        scoreRef.current++;\r\n                        setScore(scoreRef.current);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    // ÌÇ§Î≥¥Îìú Ïù¥Î≤§Ìä∏ Ìï∏Îì§Îü¨\r\n    const handleRestart = () => {\r\n        // GA Î¶¨Ïä§ÌÉÄÌä∏ Ï∂îÏ†Å\r\n        if (window.gtag) {\r\n            window.gtag('event', 'BB_game_restart', {\r\n                event_category: 'Game',\r\n                event_label: 'BrickBreaker'\r\n            });\r\n        }\r\n\r\n        window.location.reload();\r\n    }\r\n    const keyDownHandler = (e) => {\r\n        if (e.key === \"Right\" || e.key === \"ArrowRight\") keys.current.right = true;\r\n        else if (e.key === \"Left\" || e.key === \"ArrowLeft\") keys.current.left = true;\r\n        else if (e.key === \"r\" || e.key === \"R\") handleRestart();\r\n    };\r\n\r\n    const keyUpHandler = (e) => {\r\n        if (e.key === \"Right\" || e.key === \"ArrowRight\") keys.current.right = false;\r\n        else if (e.key === \"Left\" || e.key === \"ArrowLeft\") keys.current.left = false;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext(\"2d\");\r\n\r\n        document.addEventListener(\"keydown\", keyDownHandler);\r\n        document.addEventListener(\"keyup\", keyUpHandler);\r\n\r\n        const draw = () => {\r\n            ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n            drawBricks(ctx);\r\n            drawBall(ctx);\r\n            drawPaddle(ctx);\r\n            collisionDetection();\r\n\r\n            // Ï¢ÖÎ£å Î©îÏãúÏßÄ\r\n            if (gameOver) {\r\n                drawEndMessage(ctx, \"üò¢ GAME OVER\");\r\n                cancelAnimationFrame(animationRef.current);\r\n                return;\r\n            }\r\n            if (gameClear) {\r\n                // GA Í≤åÏûÑ ÌÅ¥Î¶¨Ïñ¥ Ï∂îÏ†Å\r\n                if (window.gtag) {\r\n                    window.gtag('event', 'BB_game_clear', {\r\n                        event_category: 'Game',\r\n                        event_label: 'BrickBreaker'\r\n                    });\r\n                }\r\n\r\n                // ÌÅ¥Î¶¨Ïñ¥ Î©îÏãúÏßÄ\r\n                drawEndMessage(ctx, \"üéâ CLEAR!!\");\r\n                cancelAnimationFrame(animationRef.current);\r\n                return;\r\n            }\r\n\r\n            // Î≤Ω Ï∂©Îèå Ï≤òÎ¶¨\r\n            const nextX = xRef.current + dxRef.current;\r\n            const nextY = yRef.current + dyRef.current;\r\n\r\n            if (nextX + ballRadius > canvas.width || nextX - ballRadius < 0) {\r\n                dxRef.current = -dxRef.current;\r\n            }\r\n            if (nextY - ballRadius < 0) {\r\n                dyRef.current = -dyRef.current;\r\n            }\r\n\r\n            // Î∞îÎã• Ï∂©Îèå + Ìå®Îì§ Î∞òÏÇ¨ Ï≤òÎ¶¨\r\n            if (nextY + ballRadius > canvas.height) {\r\n                if (\r\n                    xRef.current > paddleXRef.current &&\r\n                    xRef.current < paddleXRef.current + paddleWidth\r\n                ) {\r\n                    dyRef.current = -dyRef.current;\r\n                } else {\r\n                    setGameOver(true);\r\n                    return;\r\n                }\r\n            }\r\n\r\n            // ÌÇ§ ÏûÖÎ†•Ïóê Îî∞Î•∏ Ìå®Îì§ Ïù¥Îèô\r\n            if (keys.current.right && paddleXRef.current < canvas.width - paddleWidth) {\r\n                paddleXRef.current += 5;\r\n            } else if (keys.current.left && paddleXRef.current > 0) {\r\n                paddleXRef.current -= 5;\r\n            }\r\n\r\n            // Í≥µ Ïù¥Îèô\r\n            xRef.current += dxRef.current;\r\n            yRef.current += dyRef.current;\r\n\r\n            animationRef.current = requestAnimationFrame(draw);\r\n        };\r\n\r\n        draw();\r\n\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", keyDownHandler);\r\n            document.removeEventListener(\"keyup\", keyUpHandler);\r\n            cancelAnimationFrame(animationRef.current);\r\n        };\r\n    }, [gameOver, gameClear, canvasSize, paddleWidth]);\r\n\r\n    // Î∞òÏùëÌòï ÌôîÎ©¥ Ï∂îÍ∞Ä\r\n    useEffect(() => {\r\n        const updateSize = () => {\r\n            const screenWidth = window.innerWidth;\r\n            const width = Math.min(screenWidth - 10, 480);\r\n            const height = Math.round(width * 0.75);\r\n            setCanvasSize({ width, height });\r\n        };\r\n        updateSize();   // Ï≤òÏùå Ïã§Ìñâ\r\n        window.addEventListener(\"resize\", updateSize);\r\n        return () => window.removeEventListener(\"resize\", updateSize);\r\n    }, []);\r\n\r\n    // Î™®Î∞îÏùº ÌôîÎ©¥ ÌÑ∞Ïπò\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n        const handleTouchMove = (e) => {\r\n            const touchX = e.touches[0].clientX - canvas.getBoundingClientRect().left;\r\n            paddleXRef.current = Math.min(\r\n                Math.max(touchX - paddleWidth / 2, 0),\r\n                canvas.width - paddleWidth\r\n            );\r\n        };\r\n        canvas.addEventListener(\"touchmove\", handleTouchMove);\r\n        return () => canvas.removeEventListener(\"touchmove\", handleTouchMove);\r\n    }, [paddleWidth]);\r\n\r\n    // ÌÑ∞Ïπò or ÌÅ¥Î¶≠ Ïãú Ìï¥Îãπ ÏúÑÏπò ÎàÑÎ•¥Î©¥ restart\r\n    useEffect(() => {\r\n        const canvas = canvasRef.current;\r\n\r\n        const handleClick = (e) => {\r\n            if (!gameOver && !gameClear) return;\r\n\r\n            const rect = canvas.getBoundingClientRect();\r\n            const clickX = e.clientX - rect.left;\r\n            const clickY = e.clientY - rect.top;\r\n\r\n            const centerX = canvas.width / 2;\r\n            const centerY = canvas.height / 2 + 20;\r\n\r\n            const textWidth = 150;\r\n            const textHeight = 30;\r\n\r\n            if (\r\n                clickX > centerX - textWidth / 2 &&\r\n                clickX < centerX + textWidth / 2 &&\r\n                clickY > centerY - textHeight / 2 &&\r\n                clickY < centerY + textHeight / 2\r\n            ) {\r\n                window.location.reload();\r\n            }\r\n        };\r\n\r\n        canvas.addEventListener(\"click\", handleClick);\r\n        canvas.addEventListener(\"touchstart\", handleClick);\r\n\r\n        return () => {\r\n            canvas.removeEventListener(\"click\", handleClick);\r\n            canvas.removeEventListener(\"touchstart\", handleClick);\r\n        };\r\n    }, [gameOver, gameClear]);\r\n\r\n    return (\r\n        <div className=\"mt-8 flex flex-col items-center\">\r\n            <h2 className=\"font-press font-bold mb-4 text-rose-400\">üß±Brick Breakerüß±</h2>\r\n            <canvas\r\n                ref={canvasRef}\r\n                width={canvasSize.width}\r\n                height={canvasSize.height}\r\n                className=\"bg-black rounded shadow-md w-full max-w-none touch-none\"\r\n                style={{ width: '100%', height: 'auto', display: 'block' }}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}